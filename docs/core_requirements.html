<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>508 Compliant PDF Conversion Agent Core Requirements</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #333;
        }
        ul {
            margin: 0 0 10px;
            padding-left: 20px;
        }
        li {
            margin-bottom: 10px;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>508 Compliant PDF Conversion Agent Core Requirements</h1>

    <h2>General Requirements</h2>
    <ul>
        <li>The tool must extract content from PDF files, including raw binary data and metadata.</li>
        <li>It must analyze the extracted content for compliance with Section 508 accessibility standards.</li>
        <li>The analysis should include a thorough review to identify any compliance issues, with a specific focus on WCAG 2.1 Level AA success criteria and PDF/UA (ISO 14289) standards.</li>
    </ul>

    <h2>Content Extraction Requirements</h2>
    <ul>
        <li>Extract all text, images, and metadata from the PDF.</li>
        <li>Preserve the original document's structure, including headings, lists, tables, and other elements.</li>
        <li>Store the extracted content as raw binary data for processing by the LLM.</li>
    </ul>

    <h2>Analysis and Compliance Requirements</h2>
    <ul>
        <li>Use RouteLLM to route the content to the appropriate LLM model based on the size of the PDF:
            <ul>
                <li>Google's Gemini-Pro for large files (strong model).</li>
                <li>OpenAI's GPT-4o-mini for smaller files (weak model).</li>
            </ul>
        </li>
        <li>Generate a detailed list of compliance issues, including:
            <ul>
                <li>Description of each issue.</li>
                <li>Specific content violating the standards.</li>
                <li>Page number and line number where the issue occurs.</li>
                <li>Recommendations for addressing the issues.</li>
            </ul>
        </li>
        <li>Provide new, compliant content that addresses all identified issues while maintaining the document's original intent and usability.</li>
    </ul>

    <h2>Output Requirements</h2>
    <ul>
        <li>Output a JSON object containing:
            <ul>
                <li><code>issues</code>: A list of issues found in the PDF with descriptions, specific content, page and line numbers, and recommendations.</li>
                <li><code>compliant_content</code>: The new content that implements the recommendations.</li>
            </ul>
        </li>
        <li>Ensure the generated compliant PDF is visually and functionally equivalent to the original, with enhanced accessibility features.</li>
        <li>All output must be structured to ensure full compatibility with assistive technologies.</li>
    </ul>

    <h2>Compliance Standards</h2>
    <ul>
        <li>Ensure PDFs meet WCAG 2.1 Level AA success criteria, including:
            <ul>
                <li>Providing text alternatives for non-text content.</li>
                <li>Making all functionality available from a keyboard.</li>
                <li>Giving users enough time to read and use content.</li>
                <li>Not using content that causes seizures or physical reactions.</li>
                <li>Providing ways to help users navigate and find content.</li>
                <li>Making text content readable and understandable.</li>
                <li>Making content appear and operate in predictable ways.</li>
                <li>Maximizing compatibility with current and future user tools.</li>
            </ul>
        </li>
        <li>Ensure PDFs conform to PDF/UA (ISO 14289) standards, including:
            <ul>
                <li>Correct tagging of all real content and artifacts.</li>
                <li>A logical reading order in the tag structure.</li>
                <li>Using standard PDF tags and mapping custom tags.</li>
                <li>Providing alternative text for images and other non-text elements.</li>
                <li>Specifying the natural language of the document.</li>
                <li>Having a document title in the metadata.</li>
                <li>Appropriate security settings that do not interfere with assistive technology.</li>
            </ul>
        </li>
    </ul>
</body>
</html>